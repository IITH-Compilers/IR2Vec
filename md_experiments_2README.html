<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IR2Vec: Experiments</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IR2Vec
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Experiments</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md18"></a></p>
<h1><a class="anchor" id="autotoc_md19"></a>
Note</h1>
<p><code> The results mentioned in the experiment's scripts/the published version are not updated for this branch. The experimental results for this branch would be different when compared to the published version. For comparison, use the release corresponding to <a href="https://github.com/IITH-Compilers/IR2Vec/releases/tag/v0.1.0">v0.1.0</a>. </code></p>
<h1><a class="anchor" id="autotoc_md20"></a>
Requirements</h1>
<ul>
<li>Create a new conda env using the given <code>exp_requirements.yaml</code> file<ul>
<li><code>conda env create --file exp_requirements.yaml</code> for the first time.</li>
<li>Use <code>conda activate IR2Vec</code> for subsequent uses.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md21"></a>
Heterogeneous Device Mapping</h1>
<ul>
<li>The aim of this experiment is to map a given kernel to a CPU or GPU</li>
<li>We use the same dataset described by NCC (see <a href="https://github.com/spcl/ncc">source code</a>, <a href="https://dl.acm.org/doi/10.5555/3327144.3327276">paper</a>)</li>
</ul>
<h4><a class="anchor" id="autotoc_md22"></a>
Steps to Run</h4>
<ul>
<li>To generate embeddings run<ul>
<li><code>bash generate_IR2Vec_embeddings.sh DM SYM</code> to use Symbolic encodings, or</li>
<li><code>bash generate_IR2Vec_embeddings.sh DM FA</code> to use Flow-Aware encodings</li>
</ul>
</li>
<li>Open the <code>DevMap.ipynb</code> file in jupyter notebook and execute it.</li>
</ul>
<h4><a class="anchor" id="autotoc_md23"></a>
Directory structure</h4>
<p>Following would be the structure of the directory on successful completion of the experiment. </p><div class="fragment"><div class="line">Device_Mapping</div>
<div class="line">|-- data</div>
<div class="line">|   |-- kernels_ir</div>
<div class="line">|   |   |-- *.ll</div>
<div class="line">|   |-- prior_art_results</div>
<div class="line">|   |   |-- *.results</div>
<div class="line">|   |-- all.txt</div>
<div class="line">|   |-- cgo17-amd.csv</div>
<div class="line">|   |-- cgo17-nvidia.csv</div>
<div class="line">|-- output</div>
<div class="line">|   |-- embeddings</div>
<div class="line">|   |   |-- Device_Mapping_Symbolic_llvm17.txt</div>
<div class="line">|   |   |-- Device_Mapping_FlowAware_llvm17.txt</div>
<div class="line">|-- DevMap.ipynb</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md24"></a>
Thread Coarsening</h1>
<ul>
<li>The aim of this experiment is to predict the optimal thread coarsening factor for a kernel on a GPU</li>
<li>We use the same <a href="./Thread_Coarsening/data">dataset</a> described by NCC (see <a href="https://github.com/spcl/ncc">source code</a>, <a href="https://dl.acm.org/doi/10.5555/3327144.3327276">paper</a>)</li>
</ul>
<h4><a class="anchor" id="autotoc_md25"></a>
Steps to Run</h4>
<ul>
<li>To generate embeddings run<ul>
<li><code>bash generate_IR2Vec_embeddings.sh TC SYM</code> to use Symbolic encodings, or</li>
<li><code>bash generate_IR2Vec_embeddings.sh TC FA</code> to use Flow-Aware encodings</li>
</ul>
</li>
<li>Open the <code>ThreadCoarsening.ipynb</code> file in jupyter notebook and execute it.</li>
</ul>
<h4><a class="anchor" id="autotoc_md26"></a>
Directory structure</h4>
<p>Following would be the structure of the directory on successful completion of the experiment. </p><div class="fragment"><div class="line">Thread_Coarsening</div>
<div class="line">|-- data</div>
<div class="line">|   |-- kernels_ir</div>
<div class="line">|   |   |-- *.ll</div>
<div class="line">|   |-- prior_art_results</div>
<div class="line">|   |   |-- *.results</div>
<div class="line">|   |-- all.txt</div>
<div class="line">|   |-- pact-2014-oracles.csv</div>
<div class="line">|   |-- pact-2014-runtimes.csv</div>
<div class="line">|-- output</div>
<div class="line">|   |-- embeddings</div>
<div class="line">|   |   |-- Thread_Coarsening_Symbolic_llvm17.txt</div>
<div class="line">|   |   |-- Thread_Coarsening_FlowAware_llvm17.txt</div>
<div class="line">|-- ThreadCoarsening.ipynb</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md27"></a>
Out_Of_Vocabulary</h1>
<ul>
<li>Shows the comparsion of #OOV cases encountered by our work and <a href="https://dl.acm.org/doi/10.5555/3327144.3327276">NCC</a></li>
<li>Experiementation is done on the set of 71 programs given in <a href="../src/test-suite/PE-benchmarks">src/test-suite/PE-benchmarks</a><ul>
<li>These programs are taken from geeksforgeeks.org</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md28"></a>
Time Taken</h1>
<ul>
<li>Shows the time taken to generate Symbolic and Flow-Aware embeddings</li>
<li>This experiment is also carried out on the same set of 71 programs </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
